{% macro renderPager(pager, search, orderedBy, order, max) %}
    {{
        pagerfanta(
            pager,
            'twitter_bootstrap_translated',
            {
                'proximity' : 1,
                'routeName': 'claro_tag_admin_tags_management',
                'routeParams': {
                    'search': search,
                    'orderedBy': orderedBy,
                    'order': order,
                    'max': max
                }
            }
        )
    }}
{% endmacro %}

{% from _self import renderPager %}

{% if pager|length > 0 %}

    {% if pager.getNbPages() > 1 %}
        {{ renderPager(pager, search, orderedBy, order, max) }}
    {% endif %}

    {% for firstChar, tags in datas %}

        {% if tags|length > 0 %}
            <h3>
                {{ firstChar }}
            </h3>
            <div class="panel-group">

                {% for tagName, taggedObjects in tags %}
                    <div class="panel panel-default" id="tag-row-{{ tags[tagName]['tag_id'] }}">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a role="button" data-toggle="collapse" href="#tag-content-{{ tags[tagName]['tag_id'] }}">
                                    {{ tagName }}
                                </a>
                                <i class="pull-right fa fa-trash pointer-hand delete-tag-btn"
                                   data-tag-id="{{ tags[tagName]['tag_id'] }}"
                                   data-tag-name="{{ tagName }}"
                                >
                                </i>
                            </h4>
                        </div>
                        <div id="tag-content-{{ tags[tagName]['tag_id'] }}" class="panel-collapse collapse">
                            <div class="panel-body">
                                {% for class, infos in taggedObjects['objects'] %}
                                    <b>{{ class|trans({}, 'tag') }}</b>
                                    <br>

                                    {% for info in infos %}
                                        <span>
                                            {% if info['name'] is not empty %}
                                                {{ info['name'] }}
                                            {% else %}
                                                {{ info['id'] }}
                                            {% endif %}
                                        </span>
                                        <br>
                                    {% endfor %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endfor %}

    {% if pager.getNbPages() > 1 %}
        {{ renderPager(pager, search, orderedBy, order, max) }}
    {% endif %}
{% else %}
    <br>
    <br>
    <div class="alert alert-warning">
        {{ 'no_tag'|trans({}, 'tag') }}
    </div>
{% endif %}